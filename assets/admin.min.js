jQuery(document).ready(function(i){i("#mwc-start").on("click",function(e){e.preventDefault(),i("#mwc-progress-log").html("");let r=i("#image_quality"),n=i("#conversion_mode"),c=!!i("#overwrite").is("checked");if(""===i(r).val())return alert("Choose image quality to proceed"),!1;if(""===i(n).val())return alert("Choose action for converted WebP files."),!1;i("#mwc-progress-wrapper").show(),i("#mwc-progress-status").text("Starting...");let a=0;i.post(MWCNV.ajax_url,{action:"media_webp_converter_get_images",nonce:MWCNV.nonce},function(t){if(t.success){let e=t.data,s=e.length;!function o(){if(a>=s)i("#mwc-progress-status").text("âœ… Conversion process completed successfully.");else{let t=e[a];i("#mwc-progress-status").text(`Converting ${a+1} of `+s),i.post(MWCNV.ajax_url,{action:"media_webp_converter_convert_individual_image",nonce:MWCNV.nonce,id:t,overwrite:c,image_quality:i(r).val(),conversion_mode:i(n).val()},function(e){e.status,t,a++,e=Math.round(a/s*100),i("#mwc-progress-inner").css("width",e+"%"),i("#mwc-progress-status").text(e+"% complete"),o()})}}()}else console.log("Could not load images")})})});